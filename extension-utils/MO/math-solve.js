/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/nerdamer@1.1.13/Solve.js
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
if("undefined"!=typeof module){var nerdamer=require("./nerdamer.core.js");require("./Calculus.js"),require("./Algebra.js")}!function(){var e,t=nerdamer.getCore(),r=t.PARSER,i=t.Algebra,o=t.Calculus,s=o.integration.decompose_arg,a=t.Utils.evaluate,u=t.Utils.remove,l=t.Utils.format,c=t.Utils.build,f=t.Utils.knownVariable,p=t.Symbol,S=t.Utils.isSymbol,v=t.Utils.variables,g=t.groups.S,m=t.groups.PL,h=t.groups.CB,d=t.groups.CP,y=t.groups.FN,b=t.Settings,N=t.Utils.range,w=t.Utils.isArray;function E(e,n){if(n.isConstant()&&e.isConstant()&&!e.equals(n)||e.equals(t.Settings.IMAGINARY)&&n.isConstant(!0)||n.equals(t.Settings.IMAGINARY)&&e.isConstant(!0))throw new t.exceptions.NerdamerValueError(e.toString()+" does not equal "+n.toString());this.LHS=e,this.RHS=n}t.Settings.SOLVE_RADIUS=1e3,t.Settings.ROOTS_PER_SIDE=10,t.Settings.make_pi_conversions=!1,t.Settings.STEP_SIZE=.1,t.Settings.EPSILON=1e-13,t.Settings.MAX_NEWTON_ITERATIONS=200,t.Settings.MAX_NON_LINEAR_TRIES=12,t.Settings.NON_LINEAR_JUMP_AT=50,t.Settings.NON_LINEAR_JUMP_SIZE=100,t.Settings.NON_LINEAR_START=.01,t.Settings.NEWTON_SLICES=200,t.Settings.NEWTON_EPSILON=2*Number.EPSILON,t.Settings.SOLUTION_PROXIMITY=1e-14,t.Settings.FILTER_SOLUTIONS=!0,t.Settings.MAX_SOLVE_DEPTH=10,t.Settings.ZERO_EPSILON=1e-9,t.Settings.MAX_BISECTION_ITER=2e3,t.Settings.BI_SECTION_EPSILON=1e-12,t.Symbol.prototype.hasTrig=function(){return this.containsFunction(["cos","sin","tan","cot","csc","sec"])},t.Symbol.prototype.hasNegativeTerms=function(){if(this.isComposite())for(var e in this.symbols){var t=this.symbols[e];if(t.group===m&&t.hasNegativeTerms()||this.symbols[e].power.lessThan(0))return!0}return!1},E.prototype={toString:function(){return this.LHS.toString()+"="+this.RHS.toString()},text:function(e){return this.LHS.text(e)+"="+this.RHS.text(e)},toLHS:function(e){var t,n=(t=(e=void 0===e)?this.removeDenom():this.clone()).LHS,i=t.RHS;n.isConstant(!0)&&!i.isConstant(!0)&&([n,i]=[i,n]);var o=r.subtract(n,i),s=e?r.expand(o):o;return s=new E(s,new p(0)).removeDenom().LHS},removeDenom:function(){var e=this.LHS.clone(),t=this.RHS.clone(),n=r.multiply(e.getDenom(),t.getDenom());if(e=r.expand(r.multiply(e,n.clone())),(t=r.expand(r.multiply(t,n))).group===d&&t.group!==d){var i=e;e=t,t=i}if(e.group===h){i=new p(e.multiplier);var o=t.clone();e.each((function(e){e.power.lessThan(0)?o=r.divide(o,e):i=r.multiply(i,e)})),e=i,t=o}else if(e.group===d)for(var s in e.symbols){var a=e.symbols[s];if(a.group===h)for(var u in a.symbols){var l=a.symbols[u];if(l.power.lessThan(0))return new E(r.expand(r.multiply(l.clone().toLinear(),e)),r.expand(r.multiply(l.clone().toLinear(),t)))}}return new E(e,t)},clone:function(){return new E(this.LHS.clone(),this.RHS.clone())},sub:function(e,t){var n=this.clone();return n.LHS=n.LHS.sub(e.clone(),t.clone()),n.RHS=n.RHS.sub(e.clone(),t.clone()),n},isZero:function(){return t.Utils.evaluate(this.toLHS()).equals(0)},latex:function(e){return[this.LHS.latex(e),this.RHS.latex(e)].join("=")}},r.equals=function(e,t){return new E(e,t)},e=r.functions.simplify[0],r.functions.simplify[0]=function(t){return t instanceof E?(t.LHS=e(t.LHS),t.RHS=e(t.RHS),t):e(t)},t.Expression.prototype.equals=function(e){return e instanceof t.Expression&&(e=e.symbol),new E(this.symbol,e)},t.Expression.prototype.solveFor=function(e){var n;if(this.symbol instanceof E){if(this.symbol.LHS.isConstant()&&this.symbol.RHS.equals(e))return new t.Expression(this.symbol.LHS);if(this.symbol.RHS.isConstant()&&this.symbol.LHS.equals(e))return new t.Expression(this.symbol.RHS);n=this.symbol.toLHS()}else n=this.symbol;return O(n,e).map((function(e){return new t.Expression(e)}))},t.Expression.prototype.expand=function(){if(this.symbol instanceof E){var e=this.symbol.clone();return e.RHS=r.expand(e.RHS),e.LHS=r.expand(e.LHS),new t.Expression(e)}return new t.Expression(r.expand(this.symbol))},t.Expression.prototype.variables=function(){return this.symbol instanceof E?t.Utils.arrayUnique(v(this.symbol.LHS).concat(v(this.symbol.RHS))):v(this.symbol)};var L=function(e,t){return r.equals(e,t)};t.Equation=E;var _=t.Utils.checkAll=function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return!1;return!0},I=t.Solve={version:"2.0.3",solutions:[],solve:function(e,n){var r=O(e,String(n));return new t.Vector(r)},toLHS:function(e,t){if(S(e))return e;if(!(e instanceof E)){var n=e.split("=");n[1]=n[1]||"0",e=new E(r.parse(n[0]),r.parse(n[1]))}return e.toLHS(t)},solveCircle:function(e,n){for(var i=n.map((function(e){return r.parse(e)})),o=[],s=[],a=0;a<e.length;a++){for(var u=[],l=0;l<i.length;l++)u.push(Number(t.Algebra.degree(e[a],i[l])));u.push(t.Utils.arraySum(u,!0)),o.push(u)}var c=e[0],p=e[1];if(o[0][2]>o[1][2]&&([p,c]=[c,p],[o[1],o[0]]=[o[0],o[1]]),1===o[0][0]&&2===o[0][2]&&2===o[1][0]&&4===o[1][2]){var S=n[0],v=n[1],g=O(r.parse(p,f(S,O(r.parse(c),S)[0])),v).map((function(e){return e.toString()})),m=[O(r.parse(c,f(v,g[0])))[0].toString()];if(g[1]&&m.push(O(r.parse(c,f(v,g[1])))[0].toString()),b.SOLUTIONS_AS_OBJECT)(s={})[S]=m,s[v]=g;else g.unshift(v),m.unshift(S),s=[m,g]}return s},solveNonLinearSystem:function(e,i,o){if(i<0)return[];o=void 0===o?t.Settings.NON_LINEAR_START:o;var s=t.Settings.MAX_NON_LINEAR_TRIES,a=Math.floor(s/2);i=void 0===i?s:i;var u,l,f,p,S,v,g,m,h=t.Settings.NON_LINEAR_JUMP_AT,d=t.Settings.NON_LINEAR_JUMP_SIZE,y=!0,b=function(e,t){return e.map((function(e,n){return Number(t.get(n,0))}))},N=t.Utils.arrayGetVariables(e),w=t.Matrix.jacobian(e,N,(function(e){return c(e,N)}),!0),E=t.Settings.MAX_NEWTON_ITERATIONS,L=e.map((function(e){return c(e,N)})),_=w.map((function(e){return c(e,N)}),!0);p=t.Matrix.cMatrix(0,N);var O=t.Matrix.cMatrix(o,N);f=0;do{if(f>E)break;u=b(N,O),g=O.clone(),L.forEach((function(e,t){O.set(t,0,e.apply(null,u))}));var R=new t.Matrix;if(_.each((function(e,t,n){var r=e.apply(null,u);R.set(t,n,r)})),R=R.invert(),m=(l=r.multiply(R,O).negate()).subtract(p,(function(e){return r.parse(Number(e))})),p=g.add(l,(function(e){return r.parse(Number(e))})),O=p,f>=h&&S>1){i===a&&(o=0);var A=i>a?1:-1;return n=i%Math.floor(a)+1,o+=A*n*d,I.solveNonLinearSystem(e,--i,o)}if(v=S,f++,S=m.max(),Number(S)===Number(v))break}while(Number(S)>=Number.EPSILON);return y?I.systemSolutions(O,N,!0,(function(e){return t.Utils.round(Number(e),14)})):[]},systemSolutions:function(e,n,i,o){var s=t.Settings.SOLUTIONS_AS_OBJECT?{}:[];return e.each((function(e,a){var u=(i?r.expand(e):e).valueOf();o&&(u=o.call(e,u));var l=n[a];t.Settings.SOLUTIONS_AS_OBJECT?s[l]=u:s.push([l,u])})),s},solveSystemBySubstitution:function(e){var n=v(e[0]),r=v(e[1]);return 2===e.length&&2===n.length&&t.Utils.arrayEqual(n,r)?I.solveCircle(e,n):[]},solveSystem:function(e,n){for(var o=0;o<e.length;o++)e[o]=I.toLHS(e[o]);var a,l=e.length,c=new t.Matrix,f=new t.Matrix,S=!1;if(void 0===n){if(!i.allLinear(e))try{return I.solveNonLinearSystem(e)}catch(m){if(m instanceof t.exceptions.DivisionByZero)return I.solveSystemBySubstitution(e)}if(1===(a=t.Utils.arrayGetVariables(e)).length){var v,g=0;do{var m=e[g].clone();g>0&&(m=m.sub(a[0],v[0])),v=O(m,a[0])}while(++g<e.length);return b.SOLUTIONS_AS_OBJECT?(y={})[a[0]]=v:y=0===v.length?v:[a[0],v],y}if(a.length<e.length){var h=[];for(g=e.length,o=0;o<g-1;o++)h.push(r.parse(e[o]));var d={},y=I.solveSystem(h,a);Array.isArray(y)?y.forEach((function(e){d[e[0]]=e[1]})):d=y;var N=!0;for(o=g-1;o<g;o++)r.parse(e[o],d).equals(0)||(N=!1);if(N)return y}for(o=0;o<a.length;o++)nerdamer.setVar(a[o],"delete");for(o=0;o<l;o++){m=e[o];for(var w=0;w<a.length;w++){var E=a[w],L=[];m.each((function(e){e.contains(E)&&(L=L.concat(e.coeffs()))}));var _=t.Utils.arraySum(L);c.set(o,w,_)}var R=m.clone();a.map((function(e){R=R.stripVar(e,!0)})),f.set(o,0,R.negate())}}else for(a=n,S=!0,o=0;o<l;o++){f.set(o,0,new p(0));for(m=r.expand(e[o]).collectSymbols(),w=0;w<n.length;w++){c.set(o,w,new p(0));E=n[w];for(var A=0;A<m.length;A++){for(var T=m[A],x=!1,H=0;H<n.length;H++)T.contains(n[H])&&(x&&t.err("Multiple variables found for term "+T),x=!0);if(T.contains(E)){var U=s(u(m,A),E);c.set(o,w,r.add(c.get(o,w),U[0]))}}}for(A=0;A<m.length;A++)f.set(o,0,r.add(f.get(o,0),m[A]))}if(a.length!==e.length||c.determinant().equals(0))throw new t.exceptions.SolveError("System does not have a distinct solution");var q=(c=c.invert()).multiply(f);return t.Utils.isArray(n)&&q.each((function(e){return e.negate()})),I.systemSolutions(q,a,S)},quad:function(e,t,n){var i=r.subtract(r.pow(t.clone(),p(2)),r.multiply(r.multiply(n.clone(),e.clone()),p(4)));i=r.expand(i);var o=r.pow(i,p(.5)),s=r.parse(r.multiply(new p(2),n.clone()));return[r.parse(l("(-({0})+({1}))/({2})",t,o,s)),r.parse(l("(-({0})-({1}))/({2})",t,o,s))]},cubic:function(e,t,n,i){var o=i.text(),s=n.text(),a=t.text(),u=`(-(${s})^3/(27*(${o})^3)+(${s})*(${a})/(6*(${o})^2)-(${e.text()})/(2*(${o})))`,l=`((${a})/(3*(${o}))-(${s})^2/(9*(${o})^2))`,c=`((${u})+sqrt((${u})^2+(${l})^3))^(1/3)+((${u})-sqrt((${u})^2+(${l})^3))^(1/3)-(${`(${s})/(3*(${o}))`})`,f="1/2+sqrt(3)/2*i";return[r.parse(c),r.parse(`(${c})(${f})`),r.parse(`(${c})(${f})^2`)]},quartic:function(e,n,i,o,s){var a,u,c,f,p,S={};return t.Utils.arrayUnique(v(s).concat(v(o)).concat(v(i)).concat(v(n)).concat(v(e))).map((function(e){S[e]=1})),s=s.toString(),o=o.toString(),i=i.toString(),n=n.toString(),e=e.toString(),a=r.parse(l("(8*({0})*({2})-3*({1})^2)/(8*({0})^2)",s,o,i)).toString(),u=r.parse(l("(({1})^3-4*({0})*({1})*({2})+8*({0})^2*({3}))/(8*({0})^3)",s,o,i,n)).toString(),c=r.parse(l("12*({0})*({4})-3*({1})*({3})+({2})^2",s,o,i,n,e)).toString(),f=r.parse(l("2*({2})^3-9*({1})*({2})*({3})+27*({1})^2*({4})+27*({0})*({3})^2-72*({0})*({2})*({4})",s,o,i,n,e)).toString(),p=r.parse(l("((({1})+(({1})^2-4*({0})^3)^(1/2))/2)^(1/3)",c,f)).toString(),g=r.parse(l("(1/2)*(-(2/3)*({1})+(1/(3*({0}))*(({2})+(({3})/({2})))))^(1/2)",s,a,p,c)).toString(),[r.parse(l("-(({1})/(4*({0})))-({4})+(1/2)*sqrt(-4*({4})^2-2*({2})+(({3})/({4})))",s,o,a,u,g)),r.parse(l("-(({1})/(4*({0})))-({4})-(1/2)*sqrt(-4*({4})^2-2*({2})+(({3})/({4})))",s,o,a,u,g)),r.parse(l("-(({1})/(4*({0})))+({4})+(1/2)*sqrt(-4*({4})^2-2*({2})-(({3})/({4})))",s,o,a,u,g)),r.parse(l("-(({1})/(4*({0})))+({4})-(1/2)*sqrt(-4*({4})^2-2*({2})-(({3})/({4})))",s,o,a,u,g))]},divideAndConquer:function(e,n){var r=[],i=t.Algebra.Factor.factor(e);return i.group===h&&i.each((function(e){e=p.unwrapPARENS(e),r=r.concat(O(e,n))})),r},csolve:function(e,n){return t.Utils.block("IGNORE_E",(function(){var i,o,s,a,u,c,f,S;if(S=[],(i=t.Utils.decompose_fn(e,n,!0)).x.group===g){var v,m;o=r.parse(i.x.power),s=Number(o),a=r.pow(r.divide(i.b.negate(),i.a),o.invert()),c=(u=p.toPolarFormArray(a))[0],u[1],f=c.toString(),o.toString();for(var h=0;h<s;h++)m=l("({0})*e^(2*{1}*pi*{2}*{3})",f,h,o,t.Settings.IMAGINARY),v=r.parse(m),S.push(v)}return S}),!0)},getPoints:function(e,n,r){n=n||.01,r=r||[];var i=c(e),o=Math.round(0),s=i(o),a=s/Math.abs(s),u=t.Settings.ROOTS_PER_SIDE,l=u;r.push(Math.floor(o/2)),r.push(Math.abs(o)),r.push(o),e.each((function(e){e.containsFunction(t.Settings.LOG)&&r.push(.1)}));var f=N(-t.Settings.SOLVE_RADIUS,o,n),p=N(o,t.Settings.SOLVE_RADIUS,n),S=function(e,t){for(var n,o,s,u=[],l=0,c=e.length;l<c;l++)n=e[l],s=(o=i(n))/Math.abs(o),isNaN(o)||!isFinite(o)||u.length>t||(s!==a&&u.push(n),a=s);r=r.concat(u)};return S(f,l),S(p,u),r},bisection:function(e,n){var r=e-1,i=e+1;if(Math.sign(n(r))!==Math.sign(n(i))){var o,s,a=0;do{if(o=Math.abs(i-r),a++>t.Settings.MAX_BISECTION_ITER||isNaN(o))return;s=(r+i)/2,n(r)*n(s)>0?r=s:i=s}while(o>=b.EPSILON);var u=(r+i)/2,l=n(u);if(!isNaN(l)&&Math.abs(l)<=t.Settings.BI_SECTION_EPSILON)return t.Utils.round(u,13)}},Newton:function(e,n,r){var i,o=t.Settings.MAX_NEWTON_ITERATIONS,s=0,a=e;do{var u=n(a);if(0===a&&0===u){i=0;break}if(++s>o)return;i=a-u/r(a);var l=Math.abs(i-a);a=i}while(l>b.NEWTON_EPSILON);if(Math.abs(n(i))<=b.EPSILON)return i},rewrite:function(e,n,i){if(n=n||new p(0),e.isComposite()&&e.isLinear()){var o=[],s=[];e.each((function(e){"sqrt"===(e=e.clone()).fname&&e.contains(i)?o.push(e):s.push(e)}),!0),1===o.length&&(n=r.expand(r.pow(r.subtract(n,t.Utils.arraySum(s)),new p(2))),e=r.expand(r.pow(p.unwrapSQRT(o[0]),new p(2))))}else e=p.unwrapSQRT(r.expand(e));var a=0,u=e.length;if(e.group===d&&e.contains(i)&&e.isLinear()){e.distributeMultiplier();var l=new p(0);return e.each((function(e){e.contains(i)?(a++,l=r.add(l,e.clone())):n=r.subtract(n,e.clone())})),e=l,a!==u?I.rewrite(e,n,i):[e,n]}if(e.group===h&&e.contains(i)&&e.isLinear()){if(e.multiplier.lessThan(0)&&(e.multiplier=e.multiplier.multiply(new t.Frac(-1)),n.multiplier=n.multiplier.multiply(new t.Frac(-1))),n.equals(0))return new p(0);l=new p(1);return e.each((function(e){e.contains(i)?l=r.multiply(l,e.clone()):n=r.divide(n,e.clone())})),e=l,I.rewrite(e,n,i)}if(!e.isLinear()&&e.contains(i)){var c=r.parse(e.power.clone().invert());return e=r.pow(e,c.clone()),n=r.pow(r.expand(n),c.clone()),I.rewrite(e,n,i)}if(e.group===y||e.group===g||e.group===m)return[e,n]},sqrtSolve:function(e,t){var n=new p(0),i=new p(0);if(e.isComposite()&&(e.each((function(e){"sqrt"===e.fname&&e.contains(t)?n=r.add(n,e.clone()):i=r.add(i,e.clone())})),!n.equals(0))){var o=r.expand(r.multiply(r.parse(e.multiplier),r.subtract(r.pow(i,new p(2)),r.pow(n,new p(2))))),s=O(o,t);return s=s.filter((function(n){if(n.isImaginary())return n;var r={};return r[t]=n,a(e,r).equals(0)?n:void 0}))}}},O=function(e,n,u,l,f){if(l=l||0,l++>b.MAX_SOLVE_DEPTH)return u;if(e instanceof E){if(e.isZero())return[new p(0)];if(e.LHS.equals(n)&&!e.RHS.contains(n))return[e.RHS];if(e.RHS.equals(n)&&!e.LHS.contains(n))return[e.LHS]}if(e instanceof t.Vector&&(e=e.elements),n=n||"x",w(e))return I.solveSystem.apply(void 0,arguments);u=u||[];var v={},N={};if(N[n]=0,S(e)&&!0===a(e.getDenom(),N).equals(0))return u;var L=function(e,n){var i=S(e);if(!(void 0===e||"number"==typeof e&&isNaN(e)))if(w(e))e.forEach((function(e){L(e)}));else if("null"!==e.valueOf()){if("function"==typeof t.Settings.PRE_ADD_SOLUTION&&(e=t.Settings.PRE_ADD_SOLUTION(e)),i||(e=r.parse(e)),t.Settings.make_pi_conversions&&n){var o=r.divide(e.clone(),new p(Math.PI)),s=o.multiplier,a=Math.abs(s.num),l=Math.abs(s.den);a<10&&l<10&&(e=r.multiply(o,new p("pi")))}var c=e.toString();v[c]||u.push(e),v[c]=!0}};if(e.group===g&&e.contains(n)){try{var R={};R[n]=0,a(f,R,"numer"),L(new p(0))}catch(e){}return u}if(e.group===h){var A=e.getNum();if(A.group===h){var T=String(n);return A.each((function(t){t.contains(T)&&O(t,n,u,l,e)})),u}return O(A,n,u,l,f)}e.group===y&&"sqrt"===e.fname&&(e=r.pow(p.unwrapSQRT(e),new p(2)));var x=(t.Utils.isSymbol(e)?e:I.toLHS(e,!1)).getNum(),H=t.Utils.variables(x),U=H.length;if(t.Utils.isInt(x.power)&&x.power>0&&(x=r.parse(x).toLinear()),x.group===g||x.group===h&&x.contains(n))return[new p(0)];var q,M={},C=function(e){var i=(e=r.expand(e,{expand_denominator:!0,expand_functions:!0})).clone();if(e.symbols)for(var o in e.symbols){var a=e.symbols[o],u=a.getDenom();if(!u.isConstant(!0)&&e.isComposite()){var l=new p(0);return e.each((function(e){l=r.add(l,r.multiply(e,u.clone()))})),C(r.multiply(r.parse(e.multiplier),l))}var c=s(a,n),f=c[1].fname===t.Settings.SQRT,v=p.unwrapSQRT(c[1]),g=v.power.clone();if(!S(g)&&!g.equals(.5))if(g.den.gt(1)){if(f)return e=r.subtract(e,a.clone()),e=r.add(e,r.multiply(c[0].clone(),v)),C(e);var h=M[g.den];M[g.den]=h?h++:1}else{if(-1===g.sign()){var d=r.parse(n+"^"+Math.abs(g));return e.each((function(t,i){t.contains(n)&&(e.symbols[i]=r.multiply(t,d.clone()))})),M={},C(r.parse(e))}if(a.group===m){var y=t.Utils.arrayMin(t.Utils.keys(a.symbols));if(y<0){d=r.parse(n+"^"+Math.abs(y));var b=new p(0);return i.each((function(e){b=r.add(b,r.multiply(e.clone(),d.clone()))}),!0),b}}}}return e},P=function(e){var t=new p(0),i=new p(0);return e.each((function(e){e.contains(n,!0)?t=r.add(t,e.clone()):i=r.subtract(i,e.clone())})),[t,i]};if(I.inverseFunctionSolve=function(e,t,i){var o=s(t.args[0],n);if(o[1].group===g)return r.divide(r.symfunction(e,[r.divide(i,r.parse(t.multiplier))]),o[0])},(x=C(x)).equals(0))return[x];var $=t.Utils.keys(M);if(1===$.length&&(q=$[0],x.each((function(e,i){if(e.contains(n)){var o=s(e,n),a=o[1],u=a.power;u.den.gt(1)&&(a.power=u.multiply(new t.Frac(q)),x.symbols[i]=r.multiply(a,o[0]))}})),x=r.parse(x)),L(I.sqrtSolve(x,n)),1===U)if(x.isPoly(!0)){var F=new t.Algebra.Classes.Factors;if(t.Algebra.Factor.factor(x,F),F.getNumberSymbolics()>1)for(var D in F.factors)L(O(F.factors[D],n));else{var k=(re=t.Utils.getCoeffs(x,n)).length-1,V=!1;if(H[0]===n){if(_(re,(function(e){return e.group!==t.groups.N}))){var B=t.Algebra.proots(x);_(B,(function(e){return!t.Utils.isInt(e)}))&&(V=!0,B.map((function(e){L(new p(e))})))}if(!V)if((e=r.parse(e))instanceof t.Equation&&(e=e.toLHS()),1===k)L(r.divide(re[0],re[1].negate()));else if(2===k)L(r.expand(I.quad.apply(void 0,re)));else if(3===k){u=[];var X=t.Algebra.Factor.factor(e);(u=[]).length>0?L(u):L(I.cubic.apply(void 0,re))}else i.proots(x).map(L)}}}else try{var G,J,Z,W=x.hasTrig(),j=I.getPoints(x,.1),Q=I.getPoints(x,.05),Y=I.getPoints(x,.01),z=t.Utils.arrayUnique(j.concat(Q).concat(Y)).sort((function(e,t){return e-t})),K=c(x.clone()),ee=[];for(G=0;G<z.length;G++)J=z[G],void 0!==(Z=I.bisection(J,K))?L(Z,W):ee.push(J);z=ee;var te=o.diff(x.clone()),ne=c(te);for(G=0;G<z.length;G++)J=z[G],L(I.Newton(J,K,ne),W);u.sort()}catch(e){console.log(e)}else if(!x.hasFunc(n)&&x.isComposite())try{if((X=t.Algebra.Factor.factor(x.clone())).group===h)X.each((function(e){L(O(e,n))}));else{var re;switch(k=(re=t.Utils.getCoeffs(x,n)).length-1){case 0:var ie=(fe=P(x))[0],oe=fe[1];if(ie.group===t.groups.EX){var se=t.Settings.LOG,ae=`${se}((${oe})/(${ie.multiplier}))/${se}(${ie.value})/${ie.power.multiplier}`;L(r.parse(ae))}break;case 1:L(r.divide(re[0],re[1].negate()));break;case 2:L(I.quad.apply(void 0,re));break;case 3:L(I.cubic.apply(void 0,re));break;case 4:L(I.quartic.apply(void 0,re));break;default:L(I.csolve(x,n)),0===u.length&&L(I.divideAndConquer(x,n))}0===u.length&&L(O(X,n,u,l))}}catch(e){}else try{var ue=I.rewrite(x,null,n);ie=ue[0],oe=ue[1];if(ie.group===y)if("abs"===ie.fname)L([oe.clone(),oe.negate()]);else if("sin"===ie.fname)L(I.inverseFunctionSolve("asin",ie,oe));else if("cos"===ie.fname)L(I.inverseFunctionSolve("acos",ie,oe));else if("tan"===ie.fname)L(I.inverseFunctionSolve("atan",ie,oe));else if(ie.fname===t.Settings.LOG){var le=s(ie.args[0],n);if((D=le[1]).group===g){x=new E(D,oe=r.divide(r.subtract(r.pow(ie.args.length>1?ie.args[1]:new p("e"),r.divide(oe,r.parse(ie.multiplier))),le[3]),le[0])).toLHS();L(O(x,n))}}else L(r.subtract(ie,oe));else{var ce=new E(ie,oe).toLHS();if(ce.equals(x))throw new Error("Stopping. No stop condition exists");L(O(ce,n))}}catch(e){try{if(x.group===h)L(0);else if(x.group===d){var fe;ie=(fe=P(x))[0],oe=fe[1];if(ie.group===t.groups.EX&&ie.value===n){var pe=ie.power.clone().invert();L(r.pow(oe,pe))}}}catch(e){}}if(q&&(u=u.map((function(e){return r.pow(e,new p(q))}))),S(e)){var Se={};u=u.filter((function(t){try{Se[n]=t;var r=Number(a(e,Se));return isNaN(r),!0}catch(e){return!1}}))}return u};nerdamer.register([{name:"solveEquations",parent:"nerdamer",numargs:-1,visible:!0,build:function(){return O}},{name:"solve",parent:"Solve",numargs:2,visible:!0,build:function(){return t.Solve.solve}},{name:"setEquation",parent:"Solve",visible:!0,build:function(){return L}}]),nerdamer.updateAPI()}();
